<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link rel="stylesheet" href="../lesson№1/css/style.css">
</head>
<body>
  <div class="contaniner">
    <h2 class="contaniner__text-name">Створення квадратиків</h2>
    <div class="form">
     <h3 class="form__exercise">Введіть кількість квадратів яку хочете побачити</h3>
    <input class="form__input text" type="number" id="countInput" placeholder="Кіл-ть квадратиків" min="1" max="50">
    <button class="form__button" onclick="drawSquares()">відправити</button>
    <canvas id="myCanvas" width="800" height="400"></canvas>
  </div>
  <div class="arrows">
    <a href="../lesson№11/index.html"><img class=" arrow-img arrow__left" src="../img/arrow.png" alt=""></a>
    <a href="../index.html"><img class="arrow-img" src="../img/icons8-главная-20.png" alt=""></a>
    <a href="../lesson№13/index.html"><img class="arrow-img" src="../img/arrow.png" alt=""></a>
</div>
  </div>
  <script>
    let canvas = document.getElementById("myCanvas");
    let ctx = canvas.getContext("2d");

    let colors = ["red", "blue", "green", "yellow", "purple", "orange", "pink", "turquoise", "gold", "silver", "violet", "indigo", "cyan", "magenta", "brown", "black", "gray", "beige"];

    async function drawSquares() {
      let count = parseInt(document.getElementById("countInput").value);
    

      let size = 60;
      let offset = 15; 
      let margin = 40;


      let neededWidth = count * offset + size + margin;
      let neededHeight = count * offset + size + margin;

      canvas.width = neededWidth;
      canvas.height = neededHeight;

      ctx.clearRect(0, 0, canvas.width, canvas.height);

      let startX = 20;
      let startY = 20;

      for (let i = 0; i < count; i++) {
        let color = colors[Math.floor(Math.random() * colors.length)];
        ctx.fillStyle = color;
        ctx.fillRect(startX + i * offset, startY + i * offset, size, size);
        await new Promise(resolve => setTimeout(resolve, 200)); 
      }
    }
  </script>

</body>
</html>