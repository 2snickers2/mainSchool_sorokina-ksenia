<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link rel="stylesheet" href="../lesson№1/css/style.css">
</head>
<body>
    <div class="contaniner">
        <h2 class="contaniner__text-name">Перевірка на спам</h2>
<div class="form">
    <h3 class="form__exercise">Якщо в повідомленні буде слова "реклама" або "безкоштов", то буде повідомлення про спам</h3>
    <input type="text" class="form__input" placeholder="Ваше повідомлення">
    <button class="form__button">Надіслати</button>
    <div class="form__outlet"></div>
</div>
<div class="arrows">
    <a href="../Lesson№9/index.html"><img class=" arrow-img arrow__left" src="../img/arrow.png" alt=""></a>
    <a href="../index.html"><img src="../img/icons8-главная-20.png" alt=""></a>
    <a href="../lesson№11/index.html"><img class="arrow-img" src="../img/arrow.png" alt=""></a>

</div>
</div>

<script>
    let sendButton = document.querySelector('.form__button');
    let status = document.querySelector('.form__outlet');

    sendButton.onclick = function () {
        let message = document.querySelector('.form__input').value.trim();

        if (message === "") {
            status.innerHTML = "Повідомлення не може бути порожнім.";
            return;
        }

        // Нормалізація (замінюємо цифри на схожі букви)
        let normalized = message
            .toLowerCase()
            .replace(/0/g, 'o')
            .replace(/1/g, 'i')
            .replace(/3/g, 'e')
            .replace(/4/g, 'a')
            .replace(/5/g, 's')
            .replace(/6/g, 'b')
            .replace(/7/g, 't')
            .replace(/8/g, 'b')
            .replace(/9/g, 'g');

        const spamPatterns = [
            /реклама/,         
            /reklama/,         
            /безкоштовно/,      
            /bezkoshtovno/,   
            /реклам[aо]*\b/,              
            /reklam[aо]*\b/,             
            /безкоштов\w*/i,             
            /bezkoshtovn\w*/i  
        ];

        for (let pattern of spamPatterns) {
            if (pattern.test(normalized)) {
                status.innerHTML = "Повідомлення містить спам ";
                return;
            }
        }

        status.innerHTML = "Повідомлення відправлено!";
        console.log("Надіслано повідомлення:", message);
    };
</script>

    
</body>
</html>